import pytest
import json

from tools.initial_config import load_experiment_setup


@pytest.fixture(scope='function')
def get_configurations_float_nom():
    configurations = [
        {'Params': {'F': 0.5, 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.5412067521215912, 'Y2': 0.5822187404746234, 'Y3': 0.5764696838517399, 'Y4': 0.3928403769454595, 'Y5': 0.3203991515560271},
        'STD': [0.28944569722989777, 0.284598031620755, 0.2869949505199449, 0.2316493805833708, 0.24902447148004317]},
        {'Params': {'F': '0.6969216016208459', 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.5993354164329313, 'Y2': 0.5424405526564745, 'Y3': 0.3597283256131066, 'Y4': 0.529440818642062, 'Y5': 0.3967701263023777},
        'STD': [0.26627734795065167, 0.24768626256110088, 0.25279601702662385, 0.2726835687510279, 0.2964229868957122]},
        {'Params': {'F': '0.6224399100985594', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.430245135994806, 'Y2': 0.30987406036253434, 'Y3': 0.5085492381260879, 'Y4': 0.5114995602252447, 'Y5': 0.5027842224001848},
        'STD': [0.29682210242400725, 0.2691472568251799, 0.30763616123011367, 0.36931356532798487, 0.3403074385387437]},
        {'Params': {'F': '0.4742811809555155', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.6083775240616347, 'Y2': 0.501878669463909, 'Y3': 0.38169985258238137, 'Y4': 0.603832241258213, 'Y5': 0.4659694537570164},
        'STD': [0.29994609585667337, 0.25009228510275877, 0.2943547740199311, 0.19950133355247918, 0.29505327181559476]},
        {'Params': {'F': '0.20651704697862294', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.5286146854975835, 'Y2': 0.388895926922566, 'Y3': 0.5616291647241589, 'Y4': 0.4582836424388387, 'Y5': 0.4420466979530341},
        'STD': [0.3622049913879464, 0.22977339207506794, 0.2792995105862873, 0.31153146918370606, 0.3034131481295016]},
        {'Params': {'F': '0.23306016394310325', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.3234237511441576, 'Y2': 0.3131267841102671, 'Y3': 0.5437657122061003, 'Y4': 0.5629062063017605, 'Y5': 0.47735225419754734},
        'STD': [0.19377384463857664, 0.26324448271426565, 0.2847035059483769, 0.2930481543735682, 0.360817502329695]},
        {'Params': {'F': '0.037997791977794626', 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.36552966856358937, 'Y2': 0.42704911854712224, 'Y3': 0.20359054228699275, 'Y4': 0.39483268558901286, 'Y5': 0.550351688805925},
        'STD': [0.23222601649441524, 0.37833013666279874, 0.18606532019783562, 0.28050308606507623, 0.26207460279473077]},
        {'Params': {'F': '0.33320417888102616', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.535149468701659, 'Y2': 0.6719829071210424, 'Y3': 0.3714624000327075, 'Y4': 0.4031721585642124, 'Y5': 0.43470615847358873},
        'STD': [0.2128061501032953, 0.3075009826934018, 0.22422368676506188, 0.3157640946721254, 0.22115161085390286]},
        {'Params': {'F': '0.8522538916154132', 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.4402663760668967, 'Y2': 0.3836498110778172, 'Y3': 0.4020738004527603, 'Y4': 0.5085666232049947, 'Y5': 0.44722461393035484},
        'STD': [0.32446364003205774, 0.18222256172566417, 0.30013148409150114, 0.2744539727797808, 0.29315600257754987]},
        {'Params': {'F': '0.8111422823448928', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.2913070376697745, 'Y2': 0.47757832598562083, 'Y3': 0.4875356530857914, 'Y4': 0.47348261986780543, 'Y5': 0.5496280328576146},
        'STD': [0.16911025530947552, 0.35671817697252134, 0.37921311508553956, 0.1555853623207761, 0.22503118572666908]},
        {'Params': {'F': '0.6515294765605122', 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.6056722528901308, 'Y2': 0.6380720266680743, 'Y3': 0.5140401246546082, 'Y4': 0.5070616276557484, 'Y5': 0.5121476073940533},
        'STD': [0.27820130326551135, 0.30455100711384414, 0.3067434175728256, 0.3133768846621061, 0.33308183001160985]},
        {'Params': {'F': '0.6593854708920351', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.38849030943235124, 'Y2': 0.5528993220109596, 'Y3': 0.5080678625955664, 'Y4': 0.5806887811528, 'Y5': 0.4255874361219211},
        'STD': [0.2766127865329669, 0.23527711761382736, 0.31533212215097534, 0.321689640334544, 0.27538185929007963]},
        {'Params': {'F': '0.7512416255871575', 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.6481485167371428, 'Y2': 0.5210700421376057, 'Y3': 0.5159499682758633, 'Y4': 0.3952188737518228, 'Y5': 0.36831836474899726},
        'STD': [0.2461713665811811, 0.3595363611276659, 0.3768841454383639, 0.35881432278662945, 0.2899847099252683]},
        {'Params': {'F': '0.12398073470148885', 'N': 'Context.SearchSpace.N.N1'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.4722965124415358, 'Y2': 0.51968765354054, 'Y3': 0.5871106373718722, 'Y4': 0.24903542388099517, 'Y5': 0.6371835338363921},
        'STD': [0.32602998386934323, 0.30693988153450236, 0.22034082910119865, 0.2133149806024818, 0.27060371549040635]},
        {'Params': {'F': '0.8367994485451778', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.567978349106949, 'Y2': 0.23316634235158712, 'Y3': 0.28657400617912343, 'Y4': 0.5936198612499572, 'Y5': 0.7337421101427052},
        'STD': [0.22148839540351978, 0.26505843449435895, 0.20438496601445375, 0.25846762096241266, 0.14769738324860548]},
        {'Params': {'F': '0.2490076710434015', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.5448332694340217, 'Y2': 0.38585540420168557, 'Y3': 0.4644444872962314, 'Y4': 0.38549419988249956, 'Y5': 0.4355850813738801},
        'STD': [0.3304956561289813, 0.312027744089766, 0.31702061724789804, 0.27064867452767144, 0.2797601332303043]},
        {'Params': {'F': '0.9499565174664081', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.6569570432541297, 'Y2': 0.5630406863356919, 'Y3': 0.3834800718823019, 'Y4': 0.4321265083026014, 'Y5': 0.5735531429338161},
        'STD': [0.29274907155723423, 0.32749277453180936, 0.3021178954797062, 0.290338736844493, 0.2809626433255946]},
        {'Params': {'F': '0.5761517779671946', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.530558147808224, 'Y2': 0.6204547381187424, 'Y3': 0.562421303264858, 'Y4': 0.4089898259464789, 'Y5': 0.47347172621281136},
        'STD': [0.3016178340014136, 0.26167153311224733, 0.32853285789907566, 0.28434270574281667, 0.3118045990129119]},
        {'Params': {'F': '0.33729117413253384', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.5252965326181559, 'Y2': 0.4904817139751704, 'Y3': 0.6029619954486477, 'Y4': 0.5723797147491485, 'Y5': 0.5541038695855287},
        'STD': [0.32799275945383455, 0.3648176624915944, 0.36908360153664516, 0.3090791370929599, 0.34679075249033875]},
        {'Params': {'F': '0.6960691581431038', 'N': 'Context.SearchSpace.N.N2'}, 'Tasks': 10, 'Outliers': 0,
        'Result': {'Y1': 0.5313603505944224, 'Y2': 0.35574722675151194, 'Y3': 0.5786639536641148, 'Y4': 0.6379812220718126, 'Y5': 0.48197375172918433},
        'STD': [0.2844067412859441, 0.16330472236983082, 0.26333168472131246, 0.3212550542698428, 0.2372528020443685]}
    ]

    yield configurations


@pytest.fixture(scope='function')
def get_configurations_all_types():
    configurations = [
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 0.0, 'I1': 10.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.2020178007142038, 'Y2': 0.6936457146091305, 'Y3': 0.44053485061758046,
                    'Y4': 0.5256454896620393, 'Y5': 0.6019678990576547},
         'STD': [0.11268395363461373, 0.16831096991812564, 0.3435059219989864, 0.2351238531973225,
                 0.33836003315148405]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 61.5, 'I1': 505.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6016679667468676, 'Y2': 0.5255746785262272, 'Y3': 0.45821494422485554,
                    'Y4': 0.6994232083782338, 'Y5': 0.28059661741334824},
         'STD': [0.2877533966134504, 0.3339352390886752, 0.3524669362909639, 0.2479563706681096, 0.12366073144979223]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N02', 'N1': 'Context.SearchSpace.N0.N02.N1.N11',
                    'O1': 'Context.SearchSpace.N0.N02.O1.O11'}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6566144118875357, 'Y2': 0.6730788849129375, 'Y3': 0.5427963230750594,
                    'Y4': 0.6007577431312786, 'Y5': 0.47315652544175474},
         'STD': [0.30069135609492886, 0.20277180084949548, 0.26141970422639127, 0.2923941422755692,
                 0.36181958553383814]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 92.25, 'I1': 258.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.43005761383433033, 'Y2': 0.511682614696362, 'Y3': 0.3611794544662382,
                    'Y4': 0.3353629376357188, 'Y5': 0.5343444603467271},
         'STD': [0.32810620838066606, 0.4011242271568162, 0.21611553567989386, 0.18493464561433282,
                 0.22566396697464733]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 30.75, 'I1': 752.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5457520747453957, 'Y2': 0.5876480091829628, 'Y3': 0.5052090856609223,
                    'Y4': 0.5841330845072844, 'Y5': 0.5007870204122171},
         'STD': [0.34686242943981443, 0.2636162174031725, 0.2575030882875201, 0.2638687749053601, 0.2866441642551275]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N02', 'N1': 'Context.SearchSpace.N0.N02.N1.N12',
                    'O1': 'Context.SearchSpace.N0.N02.O1.O11'}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4682681211396022, 'Y2': 0.5739205753338269, 'Y3': 0.5573529184402135,
                    'Y4': 0.5457095688818104, 'Y5': 0.5933165989816439},
         'STD': [0.3879214726793927, 0.34835423448751673, 0.2629612564781268, 0.3905303124556994, 0.20124137324172464]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 46.125, 'I1': 381.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4751607824101528, 'Y2': 0.4345665995940631, 'Y3': 0.5643903855230722,
                    'Y4': 0.6817311563359482, 'Y5': 0.3355514653100677},
         'STD': [0.26964015371729283, 0.17477068328030665, 0.3889002282071054, 0.19093587727643677,
                 0.3265876623104545]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 107.625, 'I1': 876.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5508427486721438, 'Y2': 0.47318656553828065, 'Y3': 0.3995363390146494,
                    'Y4': 0.3926605815645873, 'Y5': 0.5979125069442731},
         'STD': [0.3627433460420434, 0.2799226603489482, 0.30065570905032674, 0.15083678933881828, 0.2528048134591502]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N02', 'N1': 'Context.SearchSpace.N0.N02.N1.N11',
                    'O1': 'Context.SearchSpace.N0.N02.O1.O12'}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.712400795740419, 'Y2': 0.34272397351690403, 'Y3': 0.3218516119005378,
                    'Y4': 0.6531572752370205, 'Y5': 0.3806075550431306},
         'STD': [0.2519067307447789, 0.1884673203053809, 0.2255986379268607, 0.2029724981571795, 0.3952831141550837]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 76.875, 'I1': 134.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.49185076477088796, 'Y2': 0.4028939588313561, 'Y3': 0.7340785317193037,
                    'Y4': 0.6668675822226457, 'Y5': 0.416115076998045},
         'STD': [0.3648440691355848, 0.32134380942195806, 0.2721508418545535, 0.16770000991608847,
                 0.33415639718592205]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 15.375, 'I1': 629.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.3673592825016409, 'Y2': 0.6144639425157153, 'Y3': 0.5331871419588328,
                    'Y4': 0.3698217065661088, 'Y5': 0.6700834869037091},
         'STD': [0.17082410442362142, 0.32856673153186966, 0.2560526010458292, 0.28047212978436586,
                 0.33025295131799487]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N02', 'N1': 'Context.SearchSpace.N0.N02.N1.N12',
                    'O1': 'Context.SearchSpace.N0.N02.O1.O12'}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.37830705405303944, 'Y2': 0.6920103317527232, 'Y3': 0.5989760741091515,
                    'Y4': 0.4962092766332364, 'Y5': 0.5824572228198847},
         'STD': [0.351265109379952, 0.292835290593945, 0.2586028979470715, 0.4155668655656357, 0.23266107130886135]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 23.0625, 'I1': 319.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.2805587111041009, 'Y2': 0.5899053679411896, 'Y3': 0.3756110907119076,
                    'Y4': 0.5403031325843959, 'Y5': 0.3874202142451687},
         'STD': [0.1418232068557702, 0.3474970443600553, 0.25315488299780864, 0.22777227321552598, 0.2698161819455583]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 84.5625, 'I1': 814.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5420446874686495, 'Y2': 0.5135133259314087, 'Y3': 0.2983555107806918,
                    'Y4': 0.5805779218887304, 'Y5': 0.580554079609663},
         'STD': [0.37489710082878547, 0.09672773333343612, 0.15686902865154576, 0.3293626872145353,
                 0.3281270958330169]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 115.3125, 'I1': 72.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.49547282135466675, 'Y2': 0.6874167511380961, 'Y3': 0.5944100723468616,
                    'Y4': 0.1838806526390075, 'Y5': 0.402392189079617},
         'STD': [0.2904076898167905, 0.26728680074516, 0.28701532406135116, 0.16934056586958074, 0.2237539379644847]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 53.8125, 'I1': 567.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6628845854009854, 'Y2': 0.39710381250058, 'Y3': 0.6490837326085395,
                    'Y4': 0.5726057164606496, 'Y5': 0.6838171347136628},
         'STD': [0.3180234238055338, 0.2879989584498061, 0.24575890712826137, 0.37810706222315915,
                 0.17600036517041395]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 38.4375, 'I1': 196.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.3792380741496034, 'Y2': 0.5748255590461293, 'Y3': 0.3787859198969242,
                    'Y4': 0.5233081062511004, 'Y5': 0.5213018531431981},
         'STD': [0.1883450513589031, 0.31269574373261017, 0.26442910761391153, 0.28814882712871875,
                 0.2646318214375783]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 99.9375, 'I1': 691.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5591749352650067, 'Y2': 0.5623281883739077, 'Y3': 0.6952555193513528,
                    'Y4': 0.4273380504772749, 'Y5': 0.582421149937197},
         'STD': [0.3451704651381507, 0.26776377988649985, 0.26217269867181003, 0.38283547607518437,
                 0.32401612426958704]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 69.1875, 'I1': 443.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6159787534426657, 'Y2': 0.6872168812456513, 'Y3': 0.43589911793964387,
                    'Y4': 0.6088558538144964, 'Y5': 0.39700028134105114},
         'STD': [0.2719465088341791, 0.2630230828146821, 0.33053882328575734, 0.34157497463508957, 0.2593670281241342]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 7.6875, 'I1': 938.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4057162595663189, 'Y2': 0.5670960933153445, 'Y3': 0.47793506978850964,
                    'Y4': 0.4759238701261511, 'Y5': 0.31646569705484506},
         'STD': [0.2783070650290348, 0.18884982061867192, 0.2908329899738809, 0.3464108213216725, 0.24685127546845312]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 11.53125, 'I1': 474.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.48892949518843204, 'Y2': 0.5507436017196954, 'Y3': 0.5362041341031618,
                    'Y4': 0.6111152011156369, 'Y5': 0.4710266732807624},
         'STD': [0.33531098432030365, 0.2965378431207356, 0.26138797132986796, 0.4118598525790588,
                 0.24616951153699562]},
        {'Params': {'N0': 'Context.SearchSpace.N0.N01', 'F1': 73.03125, 'I1': 969.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6460379390086045, 'Y2': 0.3734480087757512, 'Y3': 0.574040357659712,
                    'Y4': 0.42692293059139486, 'Y5': 0.39802014261737834},
         'STD': [0.28698711339821, 0.2523460198541976, 0.14165939928034196, 0.3887808888623045, 0.2929223134347003]}
    ]
    yield configurations


@pytest.fixture(scope='function')
def get_configurations_2_float():
    configurations = [
        {'Params': {'X1': 1.0, 'X2': -100.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6110555384881794, 'Y2': 0.6023607894781156, 'Y3': 0.3390157354436143,
                     'Y4': 0.6333232326974476, 'Y5': 0.6110993578927122},
         'STD': [0.16452744400042768, 0.286533368603534, 0.32589595827456697, 0.19767878420258475, 0.28028334754597173]},
        {'Params': {'X1': 3.0, 'X2': 450.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4254587102946597, 'Y2': 0.6486662354693544, 'Y3': 0.4968340838975907,
                     'Y4': 0.43456148058069666, 'Y5': 0.4484144239843042},
         'STD': [0.349209421433526, 0.3553686484976476, 0.38993867504478374, 0.20552172822161074, 0.41012095484661726]},
        {'Params': {'X1': 4.0, 'X2': 175.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6277608522612703, 'Y2': 0.6265206370702221, 'Y3': 0.4983361999830991,
                     'Y4': 0.6769897263442402, 'Y5': 0.5892867141170982},
         'STD': [0.23796068252230668, 0.3984794743687679, 0.3279258649702185, 0.15411819968719828, 0.3248339865564229]},
        {'Params': {'X1': 2.0, 'X2': 725.0}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.2685259751212376, 'Y2': 0.2914118483314361, 'Y3': 0.39585222255573227,
                     'Y4': 0.48080770151043595, 'Y5': 0.2861878046214115},
         'STD': [0.20123408300042503, 0.22938046426860095, 0.2608108844674384, 0.3285850003061076, 0.2013679329860634]},
        {'Params': {'X1': 2.5, 'X2': 312.5}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5006935338785354, 'Y2': 0.588967136676794, 'Y3': 0.42898774999931544,
                     'Y4': 0.6352973666687055, 'Y5': 0.46915786588932207},
         'STD': [0.30574124881183334, 0.2118969081419852, 0.3723282605793647, 0.3476641533765561, 0.35956759708495506]},
        {'Params': {'X1': 4.5, 'X2': 862.5}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.44787048655462, 'Y2': 0.42669116587532735, 'Y3': 0.40934105620691613,
                     'Y4': 0.7992805633968303, 'Y5': 0.36515249614596756},
         'STD': [0.3686784565401133, 0.09023169016594781, 0.39082994637882923, 0.13430501234976433, 0.2597287285271131]},
        {'Params': {'X1': 3.5, 'X2': 37.5}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4748676942824767, 'Y2': 0.45824330454701095, 'Y3': 0.45716562393358473,
                     'Y4': 0.5127739805106556, 'Y5': 0.4992550604605007},
         'STD': [0.4382803108539738, 0.31897977934679683, 0.3458563482554202, 0.381251573510895, 0.3038122034029738]},
        {'Params': {'X1': 1.5, 'X2': 587.5}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6380480694625948, 'Y2': 0.5318828665431644, 'Y3': 0.5052580026334103,
                     'Y4': 0.5311187143045422, 'Y5': 0.2913716575440628},
         'STD': [0.14032423746014827, 0.2652355599331864, 0.26091015330366796, 0.2571155832007685, 0.3090492759587607]},
        {'Params': {'X1': 1.75, 'X2': 243.75}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.544159353847855, 'Y2': 0.3102726875766019, 'Y3': 0.6081329559453846,
                     'Y4': 0.35999932685314656, 'Y5': 0.48390293626128067},
         'STD': [0.31276140570295413, 0.38096505167916916, 0.22714090525317535, 0.30362996666254644, 0.266205381598528]},
        {'Params': {'X1': 3.75, 'X2': 793.75}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.43545470162673466, 'Y2': 0.512426193354666, 'Y3': 0.73271482819563,
                     'Y4': 0.3209575072523436, 'Y5': 0.3962976574877549},
         'STD': [0.13664995295497914, 0.2349405539218563, 0.29646649402095965, 0.3196720611987014, 0.1192247676620951]},
        {'Params': {'X1': 4.75, 'X2': -31.25}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5889308690341657, 'Y2': 0.4436574677886879, 'Y3': 0.46128558603205355,
                     'Y4': 0.5027268542461247, 'Y5': 0.352081382247197},
         'STD': [0.19421269723858467, 0.22171886463282656, 0.18854526815291758, 0.35962192418759975, 0.18517984298627876]},
        {'Params': {'X1': 2.75, 'X2': 518.75}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4234233719662724, 'Y2': 0.844524148263026, 'Y3': 0.5941071006969547,
                     'Y4': 0.6167509263323312, 'Y5': 0.5076139539132949},
         'STD': [0.3629034546839468, 0.08773443043319702, 0.3996064167306962, 0.15070394709993537, 0.3753000868992693]},
        {'Params': {'X1': 2.25, 'X2': 106.25}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5948363285412986, 'Y2': 0.570275330750106, 'Y3': 0.6654412083281304,
                     'Y4': 0.4555333662545308, 'Y5': 0.4344743413376889},
         'STD': [0.23210645272714306, 0.2429943521652894, 0.35354213027319953, 0.3343482727575566, 0.36493792715289386]},
        {'Params': {'X1': 4.25, 'X2': 656.25}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.367587562344857, 'Y2': 0.5016861724890217, 'Y3': 0.4205481494973104,
                     'Y4': 0.4524420318864483, 'Y5': 0.6681003195570302},
         'STD': [0.3713915609402077, 0.27108707332092963, 0.2510064453519947, 0.37215646819485176, 0.3253588943253]},
        {'Params': {'X1': 3.25, 'X2': 381.25}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6275001430408603, 'Y2': 0.5994770919685457, 'Y3': 0.23107761766346463,
                     'Y4': 0.5572368161366548, 'Y5': 0.5121801486925055},
         'STD': [0.28395804899318555, 0.4079568404989557, 0.16300654201484083, 0.21543826895240153, 0.3393922401281676]},
        {'Params': {'X1': 1.25, 'X2': 931.25}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.4411338441399465, 'Y2': 0.3556411857081301, 'Y3': 0.5448181877282015,
                     'Y4': 0.3826696431436294, 'Y5': 0.24980458672747402},
         'STD': [0.2628033998667594, 0.20541151216998965, 0.28432784332031946, 0.26258741333424035, 0.1297533016239763]},
        {'Params': {'X1': 1.375, 'X2': 415.625}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6303959540829746, 'Y2': 0.39490941629175075, 'Y3': 0.40457257699890015,
                     'Y4': 0.3190398035303981, 'Y5': 0.4782383566973884},
         'STD': [0.18095902522859877, 0.2155200968381465, 0.2605758716157796, 0.16520379665181112, 0.17635854360844028]},
        {'Params': {'X1': 3.375, 'X2': 965.625}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.5043593229095892, 'Y2': 0.6949872564166024, 'Y3': 0.7799274330408821,
                     'Y4': 0.6847570605382278, 'Y5': 0.48454140144343294},
         'STD': [0.324251270685067, 0.18427717533549284, 0.17970670401077493, 0.14973148507040324, 0.25850311637059414]},
        {'Params': {'X1': 4.375, 'X2': 140.625}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.7100283357710755, 'Y2': 0.5767830548038366, 'Y3': 0.6697655364094416,
                     'Y4': 0.6409354461085182, 'Y5': 0.6161634818018717},
         'STD': [0.17363606063408044, 0.3454713416805836, 0.35919350574886716, 0.2072359741964454, 0.35588017964523533]},
        {'Params': {'X1': 2.375, 'X2': 690.625}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.6583330277482998, 'Y2': 0.504486686920759, 'Y3': 0.29199066365503484,
                     'Y4': 0.6639487209180629, 'Y5': 0.5262479525610523},
         'STD': [0.16108226573784543, 0.15882051578394, 0.156428872029056, 0.15493443789469555, 0.2786202696608557]},
        {'Params': {'X1': 2.875, 'X2': 3.125}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.628147007425892, 'Y2': 0.553514864582221, 'Y3': 0.34277743594158105,
                     'Y4': 0.3589493875439428, 'Y5': 0.390611637861635},
         'STD': [0.28949655927599643, 0.34350781366323263, 0.29745766764048887, 0.289723376009859, 0.28113675719225933]},
        {'Params': {'X1': 4.875, 'X2': 553.125}, 'Tasks': 5, 'Outliers': 0,
         'Result': {'Y1': 0.48229121205966663, 'Y2': 0.3773327201634018, 'Y3': 0.45968946466039073,
                     'Y4': 0.46224645409586024, 'Y5': 0.34360237219945394},
         'STD': [0.30016041223603296, 0.36365823646510204, 0.2718393440000432, 0.3817678741884796, 0.2655227308610709]}]
    yield configurations


@pytest.fixture(scope='function')
def get_energy_configurations():
    configurations = [
        {'Params': {'experiment': 'energy', 'frequency': 2900.0, 'threads': 32},
            'Tasks': 10, 'Outliers': 1, 'Result': {'energy': 135.82333333333335}, 'STD': [1.5607289963347253]},
        {'Params': {'experiment': 'energy', 'frequency': 1300.0, 'threads': 25},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 173.135}, 'STD': [0.13435028842544242]},
        {'Params': {'experiment': 'energy', 'frequency': 2900.0, 'threads': 20},
            'Tasks': 4, 'Outliers': 0, 'Result': {'energy': 156.1475}, 'STD': [6.198598631948998]},
        {'Params': {'experiment': 'energy', 'frequency': 1900.0, 'threads': 20},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 151.53}, 'STD': [0.0]},
        {'Params': {'experiment': 'energy', 'frequency': 2800.0, 'threads': 4},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 358.61}, 'STD': [2.9981327522309678]},
        {'Params': {'experiment': 'energy', 'frequency': 1600.0, 'threads': 5},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 393.1}, 'STD': [4.73761543394986]},
        {'Params': {'experiment': 'energy', 'threads': 32, 'frequency': 2400.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 141.34}, 'STD': [0.7919595949289364]},
        {'Params': {'experiment': 'energy', 'threads': 2, 'frequency': 2400.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 672.7049999999999}, 'STD': [2.9344931419241562]},
        {'Params': {'experiment': 'energy', 'threads': 23, 'frequency': 1600.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 160.035}, 'STD': [0.8980256121069025]},
        {'Params': {'experiment': 'energy', 'threads': 18, 'frequency': 1900.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 160.14}, 'STD': [0.0]},
        {'Params': {'experiment': 'energy', 'threads': 13, 'frequency': 2700.0},
            'Tasks': 3, 'Outliers': 0, 'Result': {'energy': 174.64333333333332}, 'STD': [5.662590690958806]},
        {'Params': {'experiment': 'energy', 'threads': 8, 'frequency': 2400.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 233.565}, 'STD': [2.6940768363207477]},
        {'Params': {'experiment': 'energy', 'threads': 27, 'frequency': 2900.0},
            'Tasks': 10, 'Outliers': 0, 'Result': {'energy': 157.123}, 'STD': [23.189948037889184]},
        {'Params': {'experiment': 'energy', 'threads': 30, 'frequency': 2900.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 134.5}, 'STD': [1.0889444430272976]},
        {'Params': {'experiment': 'energy', 'threads': 29, 'frequency': 1900.0},
            'Tasks': 3, 'Outliers': 0, 'Result': {'energy': 138.92666666666665}, 'STD': [3.1326719160061014]},
        {'Params': {'experiment': 'energy', 'threads': 28, 'frequency': 2000.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 140.44}, 'STD': [0.7353910524340239]},
        {'Params': {'experiment': 'energy', 'threads': 27, 'frequency': 2700.0},
            'Tasks': 3, 'Outliers': 0, 'Result': {'energy': 141.92333333333335}, 'STD': [4.472385642286828]},
        {'Params': {'experiment': 'energy', 'threads': 9, 'frequency': 2200.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 217.36}, 'STD': [2.0364675298172736]},
        {'Params': {'experiment': 'energy', 'threads': 18, 'frequency': 1200.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 195.215}, 'STD': [1.138441917710351]},
        {'Params': {'experiment': 'energy', 'threads': 21, 'frequency': 2000.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 147.70999999999998}, 'STD': [0.9899494936611706]},
        {'Params': {'experiment': 'energy', 'threads': 2, 'frequency': 1700.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 848.19}, 'STD': [49.51161681868212]},
        {'Params': {'experiment': 'energy', 'threads': 10, 'frequency': 2901.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 245.12}, 'STD': [1.3859292911256387]},
        {'Params': {'experiment': 'energy', 'threads': 16, 'frequency': 2300.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 154.445}, 'STD': [1.788980156401966]},
        {'Params': {'experiment': 'energy', 'threads': 23, 'frequency': 2800.0},
            'Tasks': 3, 'Outliers': 1, 'Result': {'energy': 138.65}, 'STD': [0.04242640687119446]},
        {'Params': {'experiment': 'energy', 'threads': 17, 'frequency': 1900.0},
            'Tasks': 3, 'Outliers': 1, 'Result': {'energy': 158.66}, 'STD': [0.0]},
        {'Params': {'experiment': 'energy', 'threads': 16, 'frequency': 2700.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 161.14}, 'STD': [0.7778174593051983]},
        {'Params': {'experiment': 'energy', 'threads': 12, 'frequency': 2500.0},
            'Tasks': 5, 'Outliers': 1, 'Result': {'energy': 176.28250000000003}, 'STD': [4.601357589523625]},
        {'Params': {'experiment': 'energy', 'threads': 23, 'frequency': 2000.0},
            'Tasks': 3, 'Outliers': 0, 'Result': {'energy': 144.01}, 'STD': [3.396866202840496]},
        {'Params': {'experiment': 'energy', 'threads': 30, 'frequency': 2901.0},
            'Tasks': 4, 'Outliers': 0, 'Result': {'energy': 152.92000000000002}, 'STD': [6.79577810114486]},
        {'Params': {'experiment': 'energy', 'threads': 13, 'frequency': 2800.0},
            'Tasks': 2, 'Outliers': 0, 'Result': {'energy': 178.36}, 'STD': [0.7778174593051983]},
        {'Params': {'experiment': 'energy', 'threads': 1, 'frequency': 1300.0},
            'Tasks': 1, 'Outliers': 0, 'Result': {'energy': 1879.68}, 'STD': [float("nan")]}
    ]
    yield configurations


@pytest.fixture(scope='function')
def get_energy_tasks():
    tasks = [
        {'task id': '40838cb1-d580-4d36-90f3-862266f8eb18', 'worker': 'undefined',
            'result': {'energy': 223.32, 'time': 0.52}, 'ResultValidityCheckMark': 'Outlier'},
        {'task id': '5f4f3b4a-3193-457b-aaed-4e595ed8d4d6', 'worker': 'undefined',
            'result': {'energy': 226.29, 'time': 0.5}, 'ResultValidityCheckMark': 'OK'},
        {'task id': 'f9b94c98-413c-43a9-af89-8850caee1043', 'worker': 'undefined',
            'result': {'energy': 392.65, 'time': 0.5}, 'ResultValidityCheckMark': 'OK'},
        {'task id': '001e5011-3a7a-452c-b51b-f7d2856652e4', 'worker': 'undefined',
            'result': {'energy': 309.04, 'time': 0.51}, 'ResultValidityCheckMark': 'OK'},
        {'task id': 'e0a578b1-ddd4-4cdb-b77f-698f1a8eba77', 'worker': 'undefined',
            'result': {'energy': 240.83, 'time': 0.51}, 'ResultValidityCheckMark': 'OK'},
        {'task id': '42e8e47f-f37f-4ca8-8c9e-e0518a894bb0', 'worker': 'undefined',
            'result': {'energy': 426.29, 'time': 0.51}, 'ResultValidityCheckMark': 'OK'},
        {'task id': '2127f797-aada-4d2c-b769-e479e5d0fef6', 'worker': 'undefined',
            'result': {'energy': 201.64, 'time': 0.52}, 'ResultValidityCheckMark': 'OK'},
        {'task id': '448472d0-4430-41ec-bb53-d04406c601f1', 'worker': 'undefined',
            'result': {'energy': 392.65, 'time': 0.51}, 'ResultValidityCheckMark': 'OK'},
        {'task id': 'b1402cb2-cfd0-43ac-9659-5d4fb36cfdd4', 'worker': 'undefined',
            'result': {'energy': 426.29, 'time': 0.52}, 'ResultValidityCheckMark': 'OK'},
        {'task id': 'd446a670-13c2-4a8e-a900-0e88fb7ea068', 'worker': 'undefined',
            'result': {'energy': 201.64, 'time': 0.5}, 'ResultValidityCheckMark': 'OK'},
    ]

    yield tasks


@pytest.fixture(scope='function')
def get_energy_experiment_and_search_space():
    experiment_description, search_space = load_experiment_setup("./Resources/EnergyExperiment/EnergyExperiment.json")
    yield experiment_description, search_space


@pytest.fixture(scope='function')
def get_experiment():
    def _get_experiment(test_case_number: int):
        experiment_description, search_space = load_experiment_setup("./Resources/tests/test_cases_product_configurations/test_case_{}.json".format(test_case_number))
        return experiment_description, search_space
    yield _get_experiment


@pytest.fixture(scope='function')
def get_workers():
    dictionary_dump = {"worker_capacity": 1}
    body = json.dumps(dictionary_dump)
    yield body.encode()
